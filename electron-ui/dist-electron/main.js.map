{"version":3,"file":"main.js","sources":["../electron/main.ts"],"sourcesContent":["import { app, BrowserWindow, ipcMain } from 'electron'\r\n\r\nlet mainWindow: BrowserWindow | null = null;\r\n\r\nfunction createWindow() {\r\n  mainWindow = new BrowserWindow({\r\n    width: 1200,\r\n    height: 800,\r\n    frame: false, // 隐藏默认标题栏\r\n    titleBarStyle: 'hidden', // 隐藏标题栏\r\n    webPreferences: {\r\n      nodeIntegration: false,\r\n      contextIsolation: true,\r\n      enableRemoteModule: false,\r\n      webSecurity: true,\r\n      preload: __dirname + '/preload.js'\r\n    }\r\n  })\r\n\r\n  // 开发模式加载 Vite 服务，生产加载本地 index.html\r\n  const devUrl = process.env.VITE_DEV_SERVER_URL\r\n  if (devUrl) {\r\n    mainWindow.loadURL(devUrl)\r\n  } else {\r\n    mainWindow.loadFile('dist/index.html')\r\n  }\r\n\r\n  // 窗口关闭时清空引用\r\n  mainWindow.on('closed', () => {\r\n    mainWindow = null;\r\n  });\r\n}\r\n\r\n// IPC处理程序\r\nipcMain.handle('window-minimize', () => {\r\n  if (mainWindow) {\r\n    mainWindow.minimize();\r\n  }\r\n});\r\n\r\nipcMain.handle('window-maximize', () => {\r\n  if (mainWindow) {\r\n    if (mainWindow.isMaximized()) {\r\n      mainWindow.restore();\r\n    } else {\r\n      mainWindow.maximize();\r\n    }\r\n  }\r\n});\r\n\r\nipcMain.handle('window-close', () => {\r\n  if (mainWindow) {\r\n    mainWindow.close();\r\n  }\r\n});\r\n\r\napp.whenReady().then(createWindow)\r\n\r\napp.on('window-all-closed', () => {\r\n  if (process.platform !== 'darwin') app.quit()\r\n})\r\n"],"names":["BrowserWindow","ipcMain","app"],"mappings":";;AAEA,IAAI,aAAmC;AAEvC,SAAS,eAAe;AACtB,eAAa,IAAIA,SAAAA,cAAc;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA;AAAA,IACP,eAAe;AAAA;AAAA,IACf,gBAAgB;AAAA,MACd,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,MAClB,oBAAoB;AAAA,MACpB,aAAa;AAAA,MACb,SAAS,YAAY;AAAA,IAAA;AAAA,EACvB,CACD;AAGD,QAAM,SAAS,QAAQ,IAAI;AAC3B,MAAI,QAAQ;AACV,eAAW,QAAQ,MAAM;AAAA,EAC3B,OAAO;AACL,eAAW,SAAS,iBAAiB;AAAA,EACvC;AAGA,aAAW,GAAG,UAAU,MAAM;AAC5B,iBAAa;AAAA,EACf,CAAC;AACH;AAGAC,SAAAA,QAAQ,OAAO,mBAAmB,MAAM;AACtC,MAAI,YAAY;AACd,eAAW,SAAA;AAAA,EACb;AACF,CAAC;AAEDA,SAAAA,QAAQ,OAAO,mBAAmB,MAAM;AACtC,MAAI,YAAY;AACd,QAAI,WAAW,eAAe;AAC5B,iBAAW,QAAA;AAAA,IACb,OAAO;AACL,iBAAW,SAAA;AAAA,IACb;AAAA,EACF;AACF,CAAC;AAEDA,SAAAA,QAAQ,OAAO,gBAAgB,MAAM;AACnC,MAAI,YAAY;AACd,eAAW,MAAA;AAAA,EACb;AACF,CAAC;AAEDC,SAAAA,IAAI,UAAA,EAAY,KAAK,YAAY;AAEjCA,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAChC,MAAI,QAAQ,aAAa,SAAUA,UAAAA,IAAI,KAAA;AACzC,CAAC;"}